/* src/components/WeatherAnimations.css (時間連動・完全版) */

.weather-bg {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  z-index: -1; overflow: hidden;
  transition: background 1.5s ease;
}

/* ===========================
   0. 時間帯ごとの空色（ベース）
   =========================== */

/* ★朝焼け (Sunrise): 紫～オレンジ～黄色 */
.bg-sunrise {
  background: linear-gradient(to top, #fbc2eb 0%, #a6c1ee 100%); /* 優しい朝 */
  background: linear-gradient(to top, #ff9a9e 0%, #fecfef 99%, #fecfef 100%); /* ピンク系 */
  background: linear-gradient(to bottom, #4facfe 0%, #00f2fe 100%); /* 青空への変化 */
  /* 一番リアルな朝焼け */
  background: linear-gradient(to top, #ffecd2 0%, #fcb69f 100%); 
}

/* ★昼 (Day): 青空 */
.bg-day {
  background: linear-gradient(to bottom, #2980b9, #6dd5fa, #ffffff);
}

/* ★夕焼け (Sunset): 燃えるような赤～紫 */
.bg-sunset {
  background: linear-gradient(to bottom, #ff512f, #dd2476); /* オレンジ〜紫 */
  background: linear-gradient(to top, #30cfd0 0%, #330867 100%); /* 濃い夜への入り口 */
  /* マジックアワー */
  background: linear-gradient(to bottom, #fd746c, #ff9068); 
}

/* ★夜 (Night): 漆黒 */
.bg-night {
  background: linear-gradient(to bottom, #000000 0%, #0f2027 100%);
}


/* ===========================
   1. 太陽 & 月 (位置はJSで制御)
   =========================== */
.sun-css {
  position: absolute;
  width: 150px; height: 150px; /* 少し小さくして動きわかりやすく */
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,255,255,1) 15%, rgba(255,255,240,0.6) 30%, rgba(255,255,255,0) 70%);
  filter: blur(20px);
  z-index: 1;
  /* 位置(top, left)はReact側で計算してインラインスタイルで当てる */
}

.moon-css {
  position: absolute; top: 10%; right: 10%; /* 月は夜の定位置でOK */
  width: 120px; height: 120px; border-radius: 50%;
  background: radial-gradient(circle, #fffef0 40%, #e0e0e0 100%);
  box-shadow: 0 0 40px 10px rgba(255, 255, 200, 0.4);
  opacity: 1; z-index: 1;
}
.moon-css::after {
  content: ''; position: absolute; top: 40px; left: 30px; width: 25px; height: 25px;
  background: rgba(180, 180, 180, 0.2); border-radius: 50%;
  box-shadow: 45px 15px 0 8px rgba(180, 180, 180, 0.2), 25px 60px 0 -5px rgba(180, 180, 180, 0.2);
}

/* ===========================
   2. 共通パーツ：星空 (Stars)
   =========================== */
.star-layer {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  background: transparent;
  box-shadow: 
    5vw 10vh 2px white, 15vw 80vh 1px white, 25vw 20vh 2px white,
    35vw 50vh 1px white, 45vw 90vh 2px white, 55vw 30vh 1px white,
    65vw 70vh 2px white, 75vw 10vh 1px white, 85vw 40vh 2px white,
    10vw 40vh 1px white, 90vw 10vh 2px white, 50vw 50vh 1px white,
    20vw 20vh 2px white, 80vw 80vh 1px white;
  opacity: 0.9;
  animation: twinkle 4s infinite alternate; z-index: 0;
}
@keyframes twinkle { 0% { opacity: 0.4; } 100% { opacity: 1; } }

/* ===========================
   3. 天気ごとのオーバーレイ (雲・雨・雪)
   =========================== */

/* 曇り */
.cloud-css {
  position: absolute; width: 220px; height: 70px; background: #fff; border-radius: 200px; opacity: 0.9; filter: blur(8px); z-index: 2;
}
.cloud-css::after, .cloud-css::before {
  content: ''; position: absolute; background: #fff; width: 100px; height: 80px; top: -20px; left: 15px; border-radius: 100px; transform: rotate(30deg);
}
.cloud-css::after { width: 130px; height: 130px; top: -60px; left: auto; right: 20px; }
/* 夜の雲は暗く */
.bg-night .cloud-css, .bg-night .cloud-css::after, .bg-night .cloud-css::before { background: #3a4b63; opacity: 0.5; }
.cloud-1 { top: 15%; animation: move-cloud 60s linear infinite; animation-delay: -20s; transform: scale(1.5); }
.cloud-2 { top: 35%; animation: move-cloud 80s linear infinite; animation-delay: -50s; opacity: 0.7; }
.cloud-3 { top: 60%; animation: move-cloud 100s linear infinite; animation-delay: -5s; opacity: 0.8; transform: scale(1.8); }
.cloud-fast { animation-duration: 20s !important; }
@keyframes move-cloud { from { left: -300px; } to { left: 100%; } }

/* 雨 */
.rain-layer { position: absolute; top: -100px; width: 1px; height: 100px; background: transparent; opacity: 0.6; z-index: 3; }
.rain-front {
  box-shadow: 10vw 10vh 0 1px rgba(255,255,255,0.4), 30vw 60vh 0 1px rgba(255,255,255,0.4), 50vw 20vh 0 1px rgba(255,255,255,0.4), 70vw 90vh 0 1px rgba(255,255,255,0.4), 90vw 40vh 0 1px rgba(255,255,255,0.4), 20vw 80vh 0 1px rgba(255,255,255,0.4), 60vw 10vh 0 1px rgba(255,255,255,0.4), 80vw 50vh 0 1px rgba(255,255,255,0.4), 40vw 30vh 0 1px rgba(255,255,255,0.4);
  animation: rain-fall 0.7s linear infinite;
}
.rain-back {
  opacity: 0.3; width: 1px; height: 60px;
  box-shadow: 15vw 15vh 0 1px rgba(255,255,255,0.3), 35vw 75vh 0 1px rgba(255,255,255,0.3), 55vw 05vh 0 1px rgba(255,255,255,0.3), 75vw 45vh 0 1px rgba(255,255,255,0.3), 95vw 85vh 0 1px rgba(255,255,255,0.3), 05vw 35vh 0 1px rgba(255,255,255,0.3), 25vw 65vh 0 1px rgba(255,255,255,0.3), 45vw 25vh 0 1px rgba(255,255,255,0.3), 65vw 55vh 0 1px rgba(255,255,255,0.3), 85vw 15vh 0 1px rgba(255,255,255,0.3);
  animation: rain-fall 1.2s linear infinite;
}
.rain-fast { animation-duration: 0.4s !important; opacity: 0.8 !important; }
@keyframes rain-fall { 0% { transform: translateY(0); } 100% { transform: translateY(100vh); } }

/* 雷 */
.bg-thunder { background: linear-gradient(to bottom, #141E30, #243B55); animation: thunder-flash 6s infinite; }
@keyframes thunder-flash { 0%, 90%, 100% { filter: brightness(1); } 92% { filter: brightness(2.5); background-color: #536976; } 93% { filter: brightness(1); } 96% { filter: brightness(3.0); background-color: #fff; } 97% { filter: brightness(1); } }

/* 雪 */
.snowflake { position: absolute; top: -10px; background: white; border-radius: 50%; opacity: 0.9; animation: snow-fall linear infinite; filter: blur(2px); z-index: 3; }
.snow-1 { left: 10%; width: 10px; height: 10px; animation-duration: 10s; }
.snow-2 { left: 30%; width: 15px; height: 15px; animation-duration: 12s; animation-delay: -2s; }
.snow-3 { left: 50%; width: 8px; height: 8px; animation-duration: 8s; animation-delay: -4s; }
.snow-4 { left: 70%; width: 12px; height: 12px; animation-duration: 15s; animation-delay: -1s; }
.snow-5 { left: 90%; width: 10px; height: 10px; animation-duration: 9s; animation-delay: -3s; }
@keyframes snow-fall { 0% { transform: translateY(-10px); opacity: 0.9; } 100% { transform: translateY(110vh); opacity: 0.4; } }